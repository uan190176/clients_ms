time="2023-02-24 16:32:19" level=info msg="===custom logger is init" func="main.main()" file="clients_ms.go:47"
time="2023-02-24 16:32:19" level=info msg="_ACTION_: testing connection to database" func="main.main()" file="clients_ms.go:50"
time="2023-02-24 16:32:19" level=info msg="_ACTION_: starting main gRPC server" func="main.main()" file="clients_ms.go:57"
time="2023-02-24 16:32:19" level=info msg="_ACTION_: starting microservice to manage clients" func="main.main()" file="clients_ms.go:60"
time="2023-02-24 16:32:19" level=info msg="_ACTION_: registration microservice in main server" func="main.main()" file="clients_ms.go:63"
time="2023-02-24 16:32:19" level=info msg="_ACTION_: initialising listener" func="main.main()" file="clients_ms.go:67"
time="2023-02-24 16:32:19" level=info msg="clients microservice (v.1.1.0) is started, listening address 0.0.0.0:50052" func="main.main()" file="clients_ms.go:74"
time="2023-02-24 16:32:24" level=info msg="***" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:16"
time="2023-02-24 16:32:24" level=info msg="-->> services.GetAddressesTypes()" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:17"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: checking auth token" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:20"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: checking users access rights" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:30"
time="2023-02-24 16:32:24" level=info msg="-->> helpers.GetUserAccessRightForTable()" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:16"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: opening grpc connection to microservice users_ms" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:19"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: calling method from microservice GetUserAccessRightForTable()" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:29"
time="2023-02-24 16:32:24" level=info msg="_RESULT_: UserId:7  TableName:\"public.addresses_types\"  Action:\"can_select\"  Result:true" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:49"
time="2023-02-24 16:32:24" level=info msg="<<-- helpers.GetUserAccessRightForTable()" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:50"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: working with storage" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:57"
time="2023-02-24 16:32:24" level=info msg="-->> address_types.GetAddressTypes()" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:15"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: generate query" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:26"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: generating query" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:436"
time="2023-02-24 16:32:24" level=info msg="-->> address_types.CreateQueryAddressesTypesSelect()" func="clients_ms/internal/storage/address_types.createQueryAddressesTypesSelect()" file="address_types_hlp.go:161"
time="2023-02-24 16:32:24" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types_full" func="clients_ms/internal/storage/address_types.createQueryAddressesTypesSelect()" file="address_types_hlp.go:163"
time="2023-02-24 16:32:24" level=info msg="<<-- address_types.CreateQueryAddressesTypesSelect()" func="clients_ms/internal/storage/address_types.createQueryAddressesTypesSelect()" file="address_types_hlp.go:164"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: adding WHERE to query" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:439"
time="2023-02-24 16:32:24" level=info msg="-->> address_types.AddWhereToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addWhereToQuerySelectAddressesTypes()" file="address_types_hlp.go:300"
time="2023-02-24 16:32:24" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types_full" func="clients_ms/internal/storage/address_types.addWhereToQuerySelectAddressesTypes()" file="address_types_hlp.go:390"
time="2023-02-24 16:32:24" level=info msg="<<-- address_types.AddWhereToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addWhereToQuerySelectAddressesTypes()" file="address_types_hlp.go:391"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: adding ORDER to query" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:442"
time="2023-02-24 16:32:24" level=info msg="-->> address_types.AddOrderToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addOrderToQuerySelectAddressesTypes()" file="address_types_hlp.go:401"
time="2023-02-24 16:32:24" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types_full ORDER BY address_type_id ASC" func="clients_ms/internal/storage/address_types.addOrderToQuerySelectAddressesTypes()" file="address_types_hlp.go:430"
time="2023-02-24 16:32:24" level=info msg="<<-- address_types.AddOrderToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addOrderToQuerySelectAddressesTypes()" file="address_types_hlp.go:431"
time="2023-02-24 16:32:24" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types_full ORDER BY address_type_id ASC" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:445"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: creating query parameters" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:30"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: opening connection" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:41"
time="2023-02-24 16:32:24" level=info msg="_ACTION_: running query" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:49"
time="2023-02-24 16:32:24" level=error msg="_ERR_: scany: query multiple result rows: ОШИБКА: столбец \"id\" не существует (SQLSTATE 42703)" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:52"
time="2023-02-24 16:32:24" level=info msg="_RESULT_: {999 scany: query multiple result rows: ОШИБКА: столбец \"id\" не существует (SQLSTATE 42703)}" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:60"
time="2023-02-24 16:32:24" level=info msg="-->> services.GetAddressesTypes()" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:61"
time="2023-02-24 16:32:24" level=info msg="***" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:62"
time="2023-02-24 16:33:13" level=info msg="===custom logger is init" func="main.main()" file="clients_ms.go:47"
time="2023-02-24 16:33:13" level=info msg="_ACTION_: testing connection to database" func="main.main()" file="clients_ms.go:50"
time="2023-02-24 16:33:13" level=info msg="_ACTION_: starting main gRPC server" func="main.main()" file="clients_ms.go:57"
time="2023-02-24 16:33:13" level=info msg="_ACTION_: starting microservice to manage clients" func="main.main()" file="clients_ms.go:60"
time="2023-02-24 16:33:13" level=info msg="_ACTION_: registration microservice in main server" func="main.main()" file="clients_ms.go:63"
time="2023-02-24 16:33:13" level=info msg="_ACTION_: initialising listener" func="main.main()" file="clients_ms.go:67"
time="2023-02-24 16:33:13" level=info msg="clients microservice (v.1.1.0) is started, listening address 0.0.0.0:50052" func="main.main()" file="clients_ms.go:74"
time="2023-02-24 16:33:19" level=info msg="***" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:16"
time="2023-02-24 16:33:19" level=info msg="-->> services.GetAddressesTypes()" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:17"
time="2023-02-24 16:33:19" level=info msg="_ACTION_: checking auth token" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:20"
time="2023-02-24 16:33:19" level=info msg="_ACTION_: checking users access rights" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:30"
time="2023-02-24 16:33:19" level=info msg="-->> helpers.GetUserAccessRightForTable()" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:16"
time="2023-02-24 16:33:19" level=info msg="_ACTION_: opening grpc connection to microservice users_ms" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:19"
time="2023-02-24 16:33:19" level=info msg="_ACTION_: calling method from microservice GetUserAccessRightForTable()" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:29"
time="2023-02-24 16:33:20" level=info msg="_RESULT_: UserId:7  TableName:\"public.addresses_types\"  Action:\"can_select\"  Result:true" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:49"
time="2023-02-24 16:33:20" level=info msg="<<-- helpers.GetUserAccessRightForTable()" func="clients_ms/internal/helpers.GetUserAccessRightForTable()" file="users_access_rights_chk.go:50"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: working with storage" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:57"
time="2023-02-24 16:33:20" level=info msg="-->> address_types.GetAddressTypes()" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:15"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: generate query" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:26"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: generating query" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:436"
time="2023-02-24 16:33:20" level=info msg="-->> address_types.CreateQueryAddressesTypesSelect()" func="clients_ms/internal/storage/address_types.createQueryAddressesTypesSelect()" file="address_types_hlp.go:161"
time="2023-02-24 16:33:20" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types" func="clients_ms/internal/storage/address_types.createQueryAddressesTypesSelect()" file="address_types_hlp.go:163"
time="2023-02-24 16:33:20" level=info msg="<<-- address_types.CreateQueryAddressesTypesSelect()" func="clients_ms/internal/storage/address_types.createQueryAddressesTypesSelect()" file="address_types_hlp.go:164"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: adding WHERE to query" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:439"
time="2023-02-24 16:33:20" level=info msg="-->> address_types.AddWhereToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addWhereToQuerySelectAddressesTypes()" file="address_types_hlp.go:300"
time="2023-02-24 16:33:20" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types" func="clients_ms/internal/storage/address_types.addWhereToQuerySelectAddressesTypes()" file="address_types_hlp.go:390"
time="2023-02-24 16:33:20" level=info msg="<<-- address_types.AddWhereToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addWhereToQuerySelectAddressesTypes()" file="address_types_hlp.go:391"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: adding ORDER to query" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:442"
time="2023-02-24 16:33:20" level=info msg="-->> address_types.AddOrderToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addOrderToQuerySelectAddressesTypes()" file="address_types_hlp.go:401"
time="2023-02-24 16:33:20" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types ORDER BY address_type_id ASC" func="clients_ms/internal/storage/address_types.addOrderToQuerySelectAddressesTypes()" file="address_types_hlp.go:430"
time="2023-02-24 16:33:20" level=info msg="<<-- address_types.AddOrderToQuerySelectAddressesTypes()" func="clients_ms/internal/storage/address_types.addOrderToQuerySelectAddressesTypes()" file="address_types_hlp.go:431"
time="2023-02-24 16:33:20" level=info msg="_QUERY_: SELECT id AS address_type_id,\n    \t\tname AS address_type_name,\n    \t\tcode AS address_type_code,\n    \t\tconcat(comment, '') AS address_type_comment,\n    \t\tneeds_normalizing AS address_type_needs_normalizing,\n    \t\tneeds_cleaning AS address_type_needs_cleaning,\n    \t\tto_char(created, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_created,\n    \t\tcreated_by AS address_type_created_by,\n\t\t\t( SELECT u.fullname FROM users u WHERE u.id = created_by ) AS address_type_created_by_name,\n    \t\tto_char(changed, 'YYYY-MM-DD HH24:MI:SS'::text) AS address_type_changed,\n    \t\tchanged_by AS address_type_changed_by,\n    \t\t( SELECT u.fullname FROM users u WHERE u.id = changed_by ) AS address_type_changed_by_name,\n\t\t\tisdeleted AS address_type_isdeleted FROM addresses_types ORDER BY address_type_id ASC" func="clients_ms/internal/storage/address_types.GenQueryAddressesTypesSelect()" file="address_types_hlp.go:445"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: creating query parameters" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:30"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: opening connection" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:41"
time="2023-02-24 16:33:20" level=info msg="_ACTION_: running query" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:49"
time="2023-02-24 16:33:20" level=info msg="_RESULT_: [AddrTypeId:9  AddrTypeName:\"Обычный\"  AddrTypeCode:\"DEFAULT\"  AddrTypeNeedsNormalizing:true  AddrTypeNeedsCleaning:true  AddrTypeCreated:\"2023-02-18 10:44:31\"  AddrTypeCreatedBy:7  AddrTypeCreatedByName:\"System Administrator Default\"  AddrTypeChanged:\"2023-02-24 16:11:46\"  AddrTypeChangedBy:7  AddrTypeChangedByName:\"System Administrator Default\" AddrTypeId:10  AddrTypeName:\"До востребования\"  AddrTypeCode:\"DEMAND\"  AddrTypeComment:\"-\"  AddrTypeNeedsNormalizing:true  AddrTypeNeedsCleaning:true  AddrTypeCreated:\"2023-02-24 14:55:20\"  AddrTypeCreatedBy:7  AddrTypeCreatedByName:\"System Administrator Default\"  AddrTypeChanged:\"2023-02-24 16:11:46\"  AddrTypeChangedBy:7  AddrTypeChangedByName:\"System Administrator Default\"]" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:58"
time="2023-02-24 16:33:20" level=info msg="<<-- address_types.GetAddressTypes()" func="clients_ms/internal/storage/address_types.GetAddressTypes()" file="address_types_stg.go:59"
time="2023-02-24 16:33:20" level=info msg="_RESULT_: {100 OK}" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:60"
time="2023-02-24 16:33:20" level=info msg="-->> services.GetAddressesTypes()" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:61"
time="2023-02-24 16:33:20" level=info msg="***" func="clients_ms/internal/services.(*GrpcClientsServer).GetAddressesTypes()" file="address_types.go:62"
